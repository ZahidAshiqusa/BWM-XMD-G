<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Neon Startup (Password Protected)</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
  html,body{height:100%;margin:0;background:#000;font-family:Poppins,Arial,Helvetica,sans-serif;color:#fff}
  .center{height:100%;display:flex;align-items:center;justify-content:center}
  .wrapper{text-align:center}
  .logo{width:110px;height:110px;border-radius:50%;border:3px solid #0ff;box-shadow:0 0 20px #0ff;margin:0 auto 12px;background:#111 center/cover no-repeat}
  .title{font-size:32px;margin-bottom:20px;text-shadow:0 0 10px #0ff}
  .neon-btn{display:flex;align-items:center;justify-content:center;gap:12px;margin:12px auto;width:260px;padding:14px 28px;font-size:20px;border-radius:40px;text-decoration:none;color:#fff;font-weight:600;position:relative;overflow:hidden;transition:.3s}
  .neon-btn i{font-size:22px;animation:floatIcon 2s infinite ease-in-out}
  @keyframes floatIcon{0%{transform:translateY(0)}50%{transform:translateY(-4px)}100%{transform:translateY(0)}}
  .neon-btn:hover{transform:scale(1.06);filter:brightness(1.05)}
  .neon-btn[data-clr]{--clr:var(--clr,#0ff);box-shadow:0 0 12px var(--clr), inset 0 0 8px var(--clr)}
  .neon-btn[data-clr]:hover{background:var(--clr);color:#000}
  .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;z-index:9999}
  .modal{background:linear-gradient(135deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:28px;border-radius:12px;min-width:320px;max-width:420px;box-shadow:0 10px 40px rgba(0,0,0,0.7);border:1px solid rgba(255,255,255,0.04)}
  .modal h3{margin:0 0 12px;font-size:20px}
  .error{color:#ff6b6b;font-size:13px;margin-top:8px}
  .pin-box{font-size:32px;letter-spacing:12px;margin-bottom:18px;text-align:center}
  .keypad{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:10px}
  .keypad button{padding:16px;font-size:20px;border:none;border-radius:10px;background:rgba(255,255,255,0.05);color:#fff;font-weight:600;box-shadow:0 0 8px rgba(255,255,255,0.1)}
  .keypad button:active{background:rgba(255,255,255,0.15)}
</style>
</head>
<body>
<div class="center">
  <div class="wrapper">
    <div class="logo" id="logo"></div>
    <div class="title">SkillMedic</div>
    <a href="LINK1" class="neon-btn" data-clr style="--clr:#0ff;"><i class="fa-solid fa-user"></i> Admin Portal</a>
    <a href="LINK2" class="neon-btn" data-clr style="--clr:#f0f;"><i class="fa-solid fa-user"></i> Teacher Portal</a>
    <a href="LINK3" class="neon-btn" data-clr style="--clr:#ff0;"><i class="fa-solid fa-user"></i> Students Portal</a>
    <a href="LINK4" class="neon-btn" data-clr style="--clr:#0f0;"><i class="fa-solid fa-user"></i> Girls Portal</a>
  </div>
</div>

<div id="pwModal" class="modal-backdrop">
  <div class="modal">
    <h3>Enter Startup PIN</h3>
    <div id="pinBox" class="pin-box">â€¢ â€¢ â€¢ â€¢</div>

    <div class="keypad">
      <button data-num="1">1</button>
      <button data-num="2">2</button>
      <button data-num="3">3</button>
      <button data-num="4">4</button>
      <button data-num="5">5</button>
      <button data-num="6">6</button>
      <button data-num="7">7</button>
      <button data-num="8">8</button>
      <button data-num="9">9</button>
      <button id="clearKey">âŒ«</button>
      <button data-num="0">0</button>
      <button id="enterKey">ðŸ”“</button>
    </div>

    <div id="pwError" class="error" style="display:none"></div>
  </div>
</div>

<script>
const modal=document.getElementById('pwModal');
const pinBox=document.getElementById('pinBox');
const pwError=document.getElementById('pwError');
const enterKey=document.getElementById('enterKey');
const clearKey=document.getElementById('clearKey');
const keypadButtons=document.querySelectorAll('.keypad button[data-num]');
const SESSION_KEY='startup_unlocked_v1';

function isUnlocked(){return sessionStorage.getItem(SESSION_KEY)==='1';}
function showModal(){modal.style.display='flex';}
function hideModal(){modal.style.display='none';}

async function checkPassword(password){
  try{
    const res=await fetch('/api/check-password',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({password})});
    return await res.json();
  }catch(e){return {ok:false,error:'Network error'};}
}

let pin="";
function updatePinBox(){
  const dots=["â€¢","â€¢","â€¢","â€¢"];
  for(let i=0;i<pin.length;i++)dots[i]="â—";
  pinBox.textContent=dots.join(" ");
}

(function init(){
  if(isUnlocked()){hideModal();return;}
  showModal();
})();

keypadButtons.forEach(btn=>{
  btn.addEventListener('click',()=>{
    if(pin.length<4)pin+=btn.dataset.num;
    updatePinBox();
  });
});

clearKey.addEventListener('click',()=>{
  pin=pin.slice(0,-1);
  updatePinBox();
});

enterKey.addEventListener('click',async()=>{
  if(pin.length!==4){
    pwError.textContent='Enter 4-digit PIN';
    pwError.style.display='block';
    return;
  }
  const result=await checkPassword(pin);
  if(result && result.ok){
    sessionStorage.setItem(SESSION_KEY,'1');
    hideModal();
  }else{
    pwError.textContent='Wrong PIN';
    pwError.style.display='block';
    pin="";
    updatePinBox();
  }
});
  
  updatePinBox();
  const modal=document.getElementById('pwModal');
const pinBox=document.getElementById('pinBox');
const pwError=document.getElementById('pwError');
const enterKey=document.getElementById('enterKey');
const clearKey=document.getElementById('clearKey');
const keypadButtons=document.querySelectorAll('.keypad button[data-num]');
const SESSION_KEY='startup_unlocked_v1';

function isUnlocked(){return sessionStorage.getItem(SESSION_KEY)==='1';}
function showModal(){modal.style.display='flex';}
function hideModal(){modal.style.display='none';}

async function checkPassword(password){
  try{
    const res=await fetch('/api/check-password',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({password})});
    return await res.json();
  }catch(e){return {ok:false,error:'Network error'};}
}

let pin="";
function updatePinBox(){
  const dots=["â€¢","â€¢","â€¢","â€¢"];
  for(let i=0;i<pin.length;i++)dots[i]="â—";
  pinBox.textContent=dots.join(" ");
}

(function init(){
  if(isUnlocked()){hideModal();return;}
  showModal();
})();

keypadButtons.forEach(btn=>{
  btn.addEventListener('click',()=>{
    if(pin.length<4)pin+=btn.dataset.num;
    updatePinBox();
  });
});

clearKey.addEventListener('click',()=>{
  pin=pin.slice(0,-1);
  updatePinBox();
});

enterKey.addEventListener('click',async()=>{
  if(pin.length!==4){
    pwError.textContent='Enter 4-digit PIN';
    pwError.style.display='block';
    return;
  }
  const result=await checkPassword(pin);
  if(result && result.ok){
    sessionStorage.setItem(SESSION_KEY,'1');
    hideModal();
  }else{
    pwError.textContent='Wrong PIN';
    pwError.style.display='block';
    pin="";
    updatePinBox();
  }
});

updatePinBox();
</script>
</body>
</html>
</script>
</body>
</html>
